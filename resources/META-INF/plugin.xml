<idea-plugin>
    <id>LimitedWIP</id>
    <name>Limited WIP</name>
    <version>0.3.8</version>
    <vendor email="dmitry.kandalov [at] gmail.com">Dmitry Kandalov</vendor>
    <category>Misc</category>

    <!-- http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html -->
    <!-- Since this IJ version because it has CommitContext.isAmendCommitMode. -->
    <idea-version since-build="192.5728.98"/>

    <description>
        <![CDATA[
        <html lang="en">
        <body>
        Plugin to help you limit work-in-progress (WIP) by imposing constraints on your workflow.
        The plugin has three main components:
        <ul>
            <li><b>Change size watchdog</b>: show notifications when current changelist size exceeds threshold</li>
            <li><b>Auto-revert</b>: automatically revert current changelist after a timeout (the timer resets on each commit)</li>
            <li><b>TCR mode (test && commit || revert)</b>: can only commit after running a test;
                   if the test fails, revert current changelist; if the test passes, do auto-commit</li>
        </ul>
        <br/>
        Why?
        <ul>
            <li>to make <b>really</b> small steps, focus on one thing at a time and commit as soon as itâ€™s done</li>
            <li>to learn from various constraints like reverting changes every 5 minutes as it's practiced at <a href="https://twitter.com/coderetreat">code retreats</a></li>
            <li>to help you use particular constraints, not to impose them
                (all components can be disabled and there are workarounds anyway, e.g. get reverted code from IDE local history)</li>
        </ul>
        <br/>
        See <a href="https://github.com/dkandalov/limited-wip">https://github.com/dkandalov/limited-wip</a> for details.
        </body>
        </html>
        ]]>
    </description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.vcs</depends>

    <application-components>
        <component><implementation-class>limitedwip.common.TimerAppComponent</implementation-class></component>
        <component><implementation-class>limitedwip.common.vcs.AllowCommitAppComponent</implementation-class></component>
    </application-components>

    <actions>
        <action id="CommitWithoutDialogAction" class="limitedwip.common.vcs.CommitWithoutDialogAction" text="Commit Without Dialog"/>
    </actions>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="limitedwip.watchdog.components.WatchdogComponent"/>
        <postStartupActivity implementation="limitedwip.autorevert.components.AutoRevertComponent"/>
        <postStartupActivity implementation="limitedwip.tcr.components.TcrComponent"/>

        <projectConfigurable instance="limitedwip.common.settings.LimitedWipConfigurable"/>
        <projectService serviceImplementation="limitedwip.common.settings.LimitedWipSettings"/>
        <checkinHandlerFactory implementation="limitedwip.common.vcs.SuccessfulCheckin"/>
        <search.topHitProvider implementation="limitedwip.common.settings.LimitedWipTopHitProvider"/>
    </extensions>

    <extensionPoints>
        <extensionPoint name="checkinListener" interface="limitedwip.common.vcs.SuccessfulCheckin$Listener"/>
    </extensionPoints>
</idea-plugin>